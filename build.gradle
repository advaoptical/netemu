// import com.sun.tools.sjavac.Util

plugins {
    id 'application'
    id 'groovy'
    id 'java'
    id 'java-gradle-plugin'
    id 'maven'
}

apply plugin: 'groovy'
apply plugin: 'java'
apply plugin: 'java-gradle-plugin'
apply plugin: 'maven'

application {
    mainClassName = "com.adva.netemu.Main"
}

group = "com.adva"
version = "0.1.0-SNAPSHOT"

sourceCompatibility = 11
targetCompatibility = 11

repositories {
    mavenCentral()
    mavenLocal()
    // maven("https://repo.spring.io/plugins-release")

    // jcenter()

    flatDir {
        dirs "opendaylight-mdsal/binding/yang-binding/target"
    }

    // flatDir {
    //     dirs "opendaylight-netconf/netconf/tools/netconf-testtool/target"
    // }
}

dependencies {
    implementation gradleApi()
    implementation localGroovy()

    implementation "com.google.code.findbugs:findbugs-annotations:3.0.1"

    // Needed by auto-generated MD-SAL Java code from YANG
    api "org.eclipse.jdt:org.eclipse.jdt.annotation:2.2.300"

    // From ./opendaylight-mdsal/binding/yang-binding/target/
    // implementation ":yang-binding-3.0.3"
    api "org.opendaylight.mdsal:yang-binding:3.0.3"
    api "org.opendaylight.mdsal:maven-sal-api-gen-plugin:3.0.3"

    api "org.opendaylight.yangtools:yang-maven-plugin:4.0.1"

    api "org.opendaylight.netconf:netconf-testtool:1.7.0"
    // implementation ":netconf-testtool-1.7.0-executable"

    // implementation "commons-io:commons-io:2.6"
    // testImplementation "junit", "junit", "4.12"
}

sourceSets {
    main.java.srcDirs += "build/mdsal"
}

compileJava {
    // options.deprecation = true
    // options.warnings = true
}

gradlePlugin {
    plugins {
        netEmuPlugin {
            id = "com.adva.netemu"
            implementationClass = "com.adva.netemu.gradle.NetEmuPlugin"
        }
    }
}
